<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<form class="form-inline my-2 my-lg-0">
  <input class="form-control mr-sm-2" id="search" type="search" placeholder="Search" aria-label="Search">
</form>

<br>
<div id="myList" style="overflow: scroll; height:600px">
  <ul >
    <% ReadAloudReport.pluck(:user_id).uniq.each do |user| %>
    <li style="margin-bottom: 2%;">
      <div class="col-sm-2 alert alert-warning alert-dismissible" role="alert">
        <strong data-toggle="collapse" data-target="#demo<%= user %>"><%= User.find_by_id(user).email %></strong>
        
      </div>
      <div id="demo<%= user %>" class="collapse border border-danger">
          <!-- <div id="chart_div"></div> -->
          <%= column_chart list_7_days(user), min: 0, max: 100, download: true, xtitle: "A Week", ytitle: "Percent" %>

      </div>
    </li>
    <% end %>
  </ul>
</div> 

<script>

// Button search
$("#search").on("keyup", function() {
  var value = $(this).val().toLowerCase();
  $("#myList li").filter(function() {
    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
  });
});

  // google.charts.load('current', {'packages':['bar']});
  // google.charts.setOnLoadCallback(drawChart);

  // function drawChart() {
  //   var data = google.visualization.arrayToDataTable([
  //     ['Year', 'Sales', 'Expenses', 'Profit'],
  //     ['2014', 1000, 400, 200],
  //     ['2015', 1170, 460, 250],
  //     ['2016', 660, 1120, 300],
  //     ['2017', 1030, 540, 350]
  //   ]);

  //   var options = {
  //     chart: {
  //       title: 'Company Performance',
  //       subtitle: 'Sales, Expenses, and Profit: 2014-2017',
  //     },
  //     bars: 'horizontal', // Required for Material Bar Charts.
  //     hAxis: {format: 'decimal'},
  //     height: 400,
  //     colors: ['#1b9e77', '#d95f02', '#7570b3']
  //   };

  //   var chart = new google.charts.Bar(document.getElementById('chart_div'));

  //   chart.draw(data, google.charts.Bar.convertOptions(options));

    
  // }

</script>

