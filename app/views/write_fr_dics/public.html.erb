<script src='/assets/write_fr_dic.js' type="text/javascript"></script>
<script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js'></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.4.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src='//code.responsivevoice.org/responsivevoice.js'></script>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
<%= render partial: 'home/header' %>
<% k = 1 %>
<div class="read-alouds container bg-white shadow p-2">
    <div id="placement" class="text-center d-none"><h1 class="clock countDown"></h1></div>
    <% @write_fr_dics_result.sample(WriteFrDic.all.count).each do |sens| %>
        <div id="data-<%= k %>" style="display: none; width: 80%; margin: auto">
            <div class="text-center">
                <h2 class="text-blue-en4all sentence">SENTENCE <%= k %></h2>
                <h3 class='sub-title'>
                    <div class="page-header">
                            <span class="minutes text-danger">This audio will auto play after </span><span class="timer text-danger">05</span><span class="text-danger">s</span>
                    </div>
                </h3>
                
                <div class="page-header">
                    <p class="d-none" id="content<%= k %>"><%= sens.result%></p>
                    <span id="audio" class="fas fa-broadcast-tower fa-4x"></span>
                </div>
            </div>
            <div class="md-form">
                <textarea layout-fill id="sens-content<%= k %>" class="left form-control p-4" rows="4"></textarea>
                <h1 layout-fill id="sens-content-right" class="md-textarea right form-control" style="display: none;"><%= sens.result%></h1>            
            </div>
            <div class="d-none" id="result-<%= k %>">
                <div class="row">
                    <div class="col-sm-4">
                        <canvas id="accuracy-<%= k %>"></canvas>
                    </div>
                    <div class="col-sm-8">
                        <div id="output-<%= k %>"></div>
                        <div id="accuracy-<%= k %>"></div>
                        <div class="mt-4 text-center">
                            <button id="retry-button" class='edit btn bg-blue-en4all text-light'>Retry</button>
                        <button id="next-button" class='edit btn bg-blue-en4all text-light'>Next</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <% k = k + 1%>
    <% end %>
</div>
</div>
<div class="action-bottom" style="left: 0">
    <div class="float-right">
        <button id="verify-result" class="edit btn bg-blue-en4all text-light mr-2" >Verify</button>
    </div>
</div>

<!-- Modal result-->
<div class="modal fade" id="myResult" role="dialog" >
    <div class="modal-dialog" role="document">
        <!-- Modal result-->
        <div class="modal-content" >
            <div class="modal-header bg-blue-en4all">
                <h5 class="modal-title" id="exampleModalLabel">YOUR RESULT</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" style="padding:40px 50px;">
                
            </div>
            <div class="modal-footer">
                <button id="retry-button" class='edit btn bg-blue-en4all text-light mr-2'>Retry</button>
                <button id="next-button" class='edit btn bg-blue-en4all text-light mr-2'>Next</button>
            </div>
        </div>
    </div>
</div>  

<script>
    speechSynthesis.cancel();
</script>
